<!-- DÃ©claration du type de document (HTML5) -->
<!DOCTYPE html>
<!-- DÃ©but du document HTML avec la langue anglaise dÃ©finie -->
<html lang="en">
<!-- En-tÃªte du document contenant les mÃ©tadonnÃ©es et liens vers les ressources -->
<head>
    <!-- DÃ©finit l'encodage des caractÃ¨res en UTF-8 pour supporter tous les caractÃ¨res internationaux -->
    <meta charset="UTF-8">
    <!-- Configure la vue pour les appareils mobiles (responsive design) -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Titre de la page qui apparaÃ®t dans l'onglet du navigateur -->
    <title>Elifbe - Kurdish Academy</title>
    <!-- Lien vers la feuille de style CSS externe -->
    <link rel="stylesheet" href="../../styles.css">
    <script src="../../scripts.js"></script>
</head>
<!-- Corps du document contenant tout le contenu visible -->
<body>
    <!-- En-tÃªte du site avec bande verte foncÃ©e (#2e7d32) -->
    <header>
        <!-- Conteneur pour le logo situÃ© Ã  gauche de l'en-tÃªte -->
        <div class="logo-left">
            <!-- Image du logo gauche (Ã  placer dans le dossier 'images') -->
            <img src="../../images/logo-left.png" alt="Logo gauche" class="logo">
        </div>
        
        <!-- Conteneur pour le titre centrÃ© -->
        <div class="title">
            <!-- Titre principal du site en grande taille (3.5rem) -->
            <h1>Kurdish Academy</h1>
        </div>
        
        <!-- Conteneur pour le logo situÃ© Ã  droite de l'en-tÃªte -->
        <div class="logo-right">
            <!-- Image du logo droit (Ã  placer dans le dossier 'images') -->
            <img src="../../images/logo-right.png" alt="Logo droite" class="logo">
        </div>
    </header>
    
    <!-- Barre de navigation principale avec les sections demandÃ©es -->
    <nav class="main-nav">
        <ul>
            <li><a href="../../index.html">Home</a></li>
            <li><a href="#" id="kurmanci-link">KurmancÃ®</a></li>
            <li><a href="#" id="sorani-link" class="active">Sorani</a></li>
            <li><a href="#" id="culture-link">Culture</a></li>
        </ul>
    </nav>
    
    <!-- Barre de navigation pour les sous-sections de Home (masquÃ©e par dÃ©faut) -->
    <nav class="sub-nav" id="home-subnav" style="display: none;">
        <ul>
            <li><a href="../../index.html">Academy</a></li>
            <li><a href="../../home/event/event.html">Event</a></li>
            <li><a href="../../home/partner/partner.html">Partner</a></li>
            <li><a href="../../home/contact/contact.html">Contact</a></li>
            <li><a href="../../home/donation/donation.html">Donation</a></li>
        </ul>
    </nav>
    
    <!-- Barre de navigation spÃ©cifique pour KurmancÃ® (masquÃ©e par dÃ©faut) -->
    <nav class="sub-nav" id="kurmanci-subnav" style="display: none;">
        <ul>
            <li><a href="../../kurmancu00ee/dersen/dersen.html">DersÃªn (Course)</a></li>
            <li><a href="../../kurmancu00ee/alfabe/alfabe.html">AlfabÃª (Alphabet)</a></li>
            <li><a href="../../kurmancu00ee/peyven/peyven.html">PeyvÃªn (Vocabulary)</a></li>
            <li><a href="../../kurmancu00ee/leker/leker.html">LÃªker (Verbs)</a></li>
            <li><a href="../../kurmancu00ee/reziman/reziman.html">RÃªziman (Grammar)</a></li>
            <li><a href="../../kurmancu00ee/guhdarikirn/guhdarikirn.html">GuhdarÃ®kirin (Listening)</a></li>
            <li><a href="../../kurmancu00ee/xwendin/xwendin.html">Xwendin (Reading)</a></li>
            <li><a href="../../kurmancu00ee/nivisandin/nivisandin.html">NivÃ®sandin (Writing)</a></li>
            <li><a href="../../kurmancu00ee/axaftin/axaftin.html">Axaftin (Speaking)</a></li>
        </ul>
    </nav>
    
    <!-- Barre de navigation spÃ©cifique pour Sorani (visible car page active) -->
    <nav class="sub-nav" id="sorani-subnav">
        <ul>
            <li><a href="../dersen/dersen.html">Ø¯Û•Ø±Ø³Û•Ú©Ø§Ù† (Course)</a></li>
            <li><a href="elifbe.html" class="active">Ø¦Û•Ù„ÙØ¨Û (Alphabet)</a></li>
            <li><a href="../wushakan/wushakan.html">ÙˆØ´Û•Ú©Ø§Ù† (Vocabulary)</a></li>
            <li><a href="../kirdar/kirdar.html">Ú©Ø±Ø¯Ø§Ø± (Verbs)</a></li>
            <li><a href="../rezman/rezman.html">Ú•ÛØ²Ù…Ø§Ù† (Grammar)</a></li>
            <li><a href="../gwedari/gwedari.html">Ú¯ÙˆÛØ¯Ø§Ø±ÛŒ (Listening)</a></li>
            <li><a href="../xwendin/xwendin.html">Ø®ÙˆÛÙ†Ø¯Ù† (Reading)</a></li>
            <li><a href="../nwsin/nwsin.html">Ù†ÙˆÙˆØ³ÛŒÙ† (Writing)</a></li>
            <li><a href="../qsakirdin/qsakirdin.html">Ù‚Ø³Û•Ú©Ø±Ø¯Ù† (Speaking)</a></li>
        </ul>
    </nav>
    
    <!-- Barre de navigation spÃ©cifique pour Culture (masquÃ©e par dÃ©faut) -->
    <nav class="sub-nav" id="culture-subnav" style="display: none;">
        <ul>
            <li><a href="../../culture/history/history.html">History</a></li>
            <li><a href="../../culture/geography/geography.html">Geography</a></li>
            <li><a href="../../culture/politics/politics.html">Politics</a></li>
            <li><a href="../../culture/literature/literature.html">Literature</a></li>
            <li><a href="../../culture/music/music.html">Music</a></li>
            <li><a href="../../culture/dance/dance.html">Dance</a></li>
            <li><a href="../../culture/food/food.html">Food</a></li>
        </ul>
    </nav>
    
    <!-- Main content of the site (white on light beige background) -->
    <main>
        <div class="alphabet-container">
            <h2 class="alphabet-title">Ø¦Û•Ù„ÙØ¨Û Ø³Û†Ø±Ø§Ù†ÛŒ (Sorani Alphabet)</h2>
            
            <div class="alphabet-grid" id="alphabetGrid">
                <!-- Les cartes d'alphabet seront gÃ©nÃ©rÃ©es par JavaScript -->
            </div>
        </div>
    </main>

    <style>
        .alphabet-container {
            margin: 30px 0;
            padding: 20px;
        }
        
        .alphabet-title {
            color: #2e7d32;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 40px;
            text-align: center;
        }
        
        .alphabet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .letter-card {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            min-height: 450px;
            border: 2px solid transparent;
        }
        
        .letter-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            border-color: #2e7d32;
        }
        
        .letter-image {
            width: 140px;
            height: 140px;
            margin-bottom: 15px;
            border-radius: 8px;
            background-color: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #e0e0e0;
        }
        
        .letter-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 6px;
        }
        
        .letter-image.placeholder {
            color: #999;
            font-size: 0.9rem;
            text-align: center;
        }
        
        .letter-text {
            color: #2e7d32;
            font-size: 3rem;
            font-weight: bold;
            margin: 15px 0;
            font-family: 'Arial Unicode MS', sans-serif;
            text-rendering: optimizeLegibility;
            -webkit-font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
            font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
            line-height: 1.2;
        }
        
        .audio-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            width: 100%;
            margin-top: 15px;
        }
        
        .audio-button {
            background: linear-gradient(135deg, #2e7d32, #4caf50);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(46, 125, 50, 0.3);
        }
        
        .audio-button:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(46, 125, 50, 0.4);
        }
        
        .audio-button:active {
            transform: scale(0.95);
        }
        
        .audio-button.playing {
            background: linear-gradient(135deg, #f44336, #ff5722);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(244, 67, 54, 0); }
            100% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0); }
        }
        
        .audio-progress {
            width: 100%;
            height: 6px;
            background-color: #e0e0e0;
            border-radius: 3px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .audio-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #2e7d32, #4caf50);
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s ease;
        }
        
        .audio-time {
            font-size: 0.8rem;
            color: #666;
            margin-top: 5px;
        }
        
        .letter-forms {
            margin: 15px 0;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            width: 100%;
        }
        
        .form-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 8px 0;
            padding: 4px 0;
        }
        
        .form-label {
            font-size: 0.85rem;
            color: #666;
            font-weight: 500;
            min-width: 50px;
        }
        
        .form-text {
            font-size: 1.4rem;
            color: #2e7d32;
            font-weight: bold;
            font-family: 'Arial Unicode MS', sans-serif;
            text-align: right;
            text-rendering: optimizeLegibility;
            -webkit-font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
            font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
            line-height: 1.2;
        }
    </style>

    <script>
        // Alphabet Sorani avec 34 lettres et leurs formes contextuelles
        const soraniAlphabet = [
            { letter: 'Ø§', forms: { isolated: 'Ø§', initial: 'Ø¦Ø§', medial: 'Ù€Ø§', final: 'Ù€Ø§' } },
            { letter: 'Ø¨', forms: { isolated: 'Ø¨', initial: 'Ø¨Ù€', medial: 'Ù€Ø¨Ù€', final: 'Ù€Ø¨' } },
            { letter: 'Ù¾', forms: { isolated: 'Ù¾', initial: 'Ù¾Ù€', medial: 'Ù€Ù¾Ù€', final: 'Ù€Ù¾' } },
            { letter: 'Øª', forms: { isolated: 'Øª', initial: 'ØªÙ€', medial: 'Ù€ØªÙ€', final: 'Ù€Øª' } },
            { letter: 'Ø¬', forms: { isolated: 'Ø¬', initial: 'Ø¬Ù€', medial: 'Ù€Ø¬Ù€', final: 'Ù€Ø¬' } },
            { letter: 'Ú†', forms: { isolated: 'Ú†', initial: 'Ú†Ù€', medial: 'Ù€Ú†Ù€', final: 'Ù€Ú†' } },
            { letter: 'Ø­', forms: { isolated: 'Ø­', initial: 'Ø­Ù€', medial: 'Ù€Ø­Ù€', final: 'Ù€Ø­' } },
            { letter: 'Ø®', forms: { isolated: 'Ø®', initial: 'Ø®Ù€', medial: 'Ù€Ø®Ù€', final: 'Ù€Ø®' } },
            { letter: 'Ø¯', forms: { isolated: 'Ø¯', initial: 'Ø¯', medial: 'Ù€Ø¯', final: 'Ù€Ø¯' } },
            { letter: 'Ø±', forms: { isolated: 'Ø±', initial: 'Ø±', medial: 'Ù€Ø±', final: 'Ù€Ø±' } },
            { letter: 'Ú•', forms: { isolated: 'Ú•', initial: 'Ú•', medial: 'Ù€Ú•', final: 'Ù€Ú•' } },
            { letter: 'Ø²', forms: { isolated: 'Ø²', initial: 'Ø²', medial: 'Ù€Ø²', final: 'Ù€Ø²' } },
            { letter: 'Ú˜', forms: { isolated: 'Ú˜', initial: 'Ú˜', medial: 'Ù€Ú˜', final: 'Ù€Ú˜' } },
            { letter: 'Ø³', forms: { isolated: 'Ø³', initial: 'Ø³Ù€', medial: 'Ù€Ø³Ù€', final: 'Ù€Ø³' } },
            { letter: 'Ø´', forms: { isolated: 'Ø´', initial: 'Ø´Ù€', medial: 'Ù€Ø´Ù€', final: 'Ù€Ø´' } },
            { letter: 'Ø¹', forms: { isolated: 'Ø¹', initial: 'Ø¹Ù€', medial: 'Ù€Ø¹Ù€', final: 'Ù€Ø¹' } },
            { letter: 'Øº', forms: { isolated: 'Øº', initial: 'ØºÙ€', medial: 'Ù€ØºÙ€', final: 'Ù€Øº' } },
            { letter: 'Ù', forms: { isolated: 'Ù', initial: 'ÙÙ€', medial: 'Ù€ÙÙ€', final: 'Ù€Ù' } },
            { letter: 'Ú¤', forms: { isolated: 'Ú¤', initial: 'Ú¤Ù€', medial: 'Ù€Ú¤Ù€', final: 'Ù€Ú¤' } },
            { letter: 'Ù‚', forms: { isolated: 'Ù‚', initial: 'Ù‚Ù€', medial: 'Ù€Ù‚Ù€', final: 'Ù€Ù‚' } },
            { letter: 'Ú©', forms: { isolated: 'Ú©', initial: 'Ú©Ù€', medial: 'Ù€Ú©Ù€', final: 'Ù€Ú©' } },
            { letter: 'Ú¯', forms: { isolated: 'Ú¯', initial: 'Ú¯Ù€', medial: 'Ù€Ú¯Ù€', final: 'Ù€Ú¯' } },
            { letter: 'Ù„', forms: { isolated: 'Ù„', initial: 'Ù„Ù€', medial: 'Ù€Ù„Ù€', final: 'Ù€Ù„' } },
            { letter: 'Úµ', forms: { isolated: 'Úµ', initial: 'ÚµÙ€', medial: 'Ù€ÚµÙ€', final: 'Ù€Úµ' } },
            { letter: 'Ù…', forms: { isolated: 'Ù…', initial: 'Ù…Ù€', medial: 'Ù€Ù…Ù€', final: 'Ù€Ù…' } },
            { letter: 'Ù†', forms: { isolated: 'Ù†', initial: 'Ù†Ù€', medial: 'Ù€Ù†Ù€', final: 'Ù€Ù†' } },
            { letter: 'Ùˆ', forms: { isolated: 'Ùˆ', initial: 'Ùˆ', medial: 'Ù€Ùˆ', final: 'Ù€Ùˆ' } },
            { letter: 'ÙˆÙˆ', forms: { isolated: 'ÙˆÙˆ', initial: 'ÙˆÙˆ', medial: 'Ù€ÙˆÙˆ', final: 'Ù€ÙˆÙˆ' } },
            { letter: 'Û†', forms: { isolated: 'Û†', initial: 'Û†', medial: 'Ù€Û†', final: 'Ù€Û†' } },
            { letter: 'Ù‡Ù€', forms: { isolated: 'Ù‡Ù€', initial: 'Ù‡Ù€', medial: 'Ù€Ù‡Ù€', final: 'Ù€Ù‡Ù€' } },
            { letter: 'ÛŒ', forms: { isolated: 'ÛŒ', initial: 'ÛŒÙ€', medial: 'Ù€ÛŒÙ€', final: 'Ù€ÛŒ' } },
            { letter: 'Û', forms: { isolated: 'Û', initial: 'ÛÙ€', medial: 'Ù€ÛÙ€', final: 'Ù€Û' } },
            { letter: 'Û•', forms: { isolated: 'Û•', initial: 'Ø¦Û•', medial: 'Ù€Û•', final: 'Ù€Û•' } },
            { letter: 'Ø¦', forms: { isolated: 'Ø¦', initial: 'Ø¦Ù€', medial: 'Ù€Ø¦Ù€', final: 'Ù€Ø¦' } }
        ];

        let currentAudio = null;
        let currentProgressInterval = null;

        function createLetterCard(letterObj, index) {
            const card = document.createElement('div');
            card.className = 'letter-card';
            
            // Gestion spÃ©ciale pour la lettre Û• qui utilise l'image de Ù‡
            let imageName = letterObj.letter;
            if (letterObj.letter === 'Û•') {
                imageName = 'Ù‡'; // Utiliser l'image de la lettre Ù‡ pour Û•
            }
            // CrÃ©er le chemin de l'image
            const imagePath = `image-sorani/${imageName}.png`;
            
            card.innerHTML = `
                <div class="letter-image">
                    <img src="${imagePath}" alt="Lettre ${letterObj.letter}" 
                         onerror="this.style.display='none'; this.parentElement.innerHTML='<span>Image non disponible</span>';">
                </div>
                <div class="letter-text">${letterObj.letter}</div>
                <div class="letter-forms">
                    <div class="form-row">
                        <span class="form-label">Initial:</span>
                        <span class="form-text">${letterObj.forms.initial}</span>
                    </div>
                    <div class="form-row">
                        <span class="form-label">Medial:</span>
                        <span class="form-text">${letterObj.forms.medial}</span>
                    </div>
                    <div class="form-row">
                        <span class="form-label">Final:</span>
                        <span class="form-text">${letterObj.forms.final}</span>
                    </div>
                </div>
                <div class="audio-controls">
                    <button class="audio-button" onclick="playAudio('${letterObj.letter}', this)">
                        ğŸ”Š
                    </button>
                    <div class="audio-progress" onclick="seekAudio(event, '${letterObj.letter}')">
                        <div class="audio-progress-bar" id="progress-${letterObj.letter}"></div>
                    </div>
                    <div class="audio-time" id="time-${letterObj.letter}">0:00 / 0:00</div>
                </div>
            `;
            return card;
        }

        function playAudio(letter, button) {
            // ArrÃªter l'audio prÃ©cÃ©dent s'il y en a un
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
                document.querySelector('.audio-button.playing')?.classList.remove('playing');
                if (currentProgressInterval) {
                    clearInterval(currentProgressInterval);
                }
            }

            // CrÃ©er un nouvel Ã©lÃ©ment audio
            currentAudio = new Audio(`audio-sorani/${letter}.m4a`);
            button.classList.add('playing');
            
            currentAudio.addEventListener('loadedmetadata', () => {
                updateTimeDisplay(letter, 0, currentAudio.duration);
            });

            currentAudio.addEventListener('timeupdate', () => {
                updateProgress(letter, currentAudio.currentTime, currentAudio.duration);
            });

            currentAudio.addEventListener('ended', () => {
                button.classList.remove('playing');
                resetProgress(letter);
                if (currentProgressInterval) {
                    clearInterval(currentProgressInterval);
                }
            });

            currentAudio.addEventListener('error', (e) => {
                console.error('Erreur lors du chargement de l\'audio:', e);
                button.classList.remove('playing');
                alert('Erreur: Impossible de charger le fichier audio pour la lettre ' + letter);
            });

            currentAudio.play().catch(e => {
                console.error('Erreur lors de la lecture:', e);
                button.classList.remove('playing');
            });
        }

        function updateProgress(letter, currentTime, duration) {
            const progressBar = document.getElementById(`progress-${letter}`);
            const percentage = (currentTime / duration) * 100;
            progressBar.style.width = percentage + '%';
            updateTimeDisplay(letter, currentTime, duration);
        }

        function updateTimeDisplay(letter, currentTime, duration) {
            const timeElement = document.getElementById(`time-${letter}`);
            const current = formatTime(currentTime);
            const total = formatTime(duration);
            timeElement.textContent = `${current} / ${total}`;
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs.toString().padStart(2, '0')}`;
        }

        function seekAudio(event, letter) {
            if (!currentAudio) return;
            
            const progressBar = event.currentTarget;
            const rect = progressBar.getBoundingClientRect();
            const clickX = event.clientX - rect.left;
            const percentage = clickX / rect.width;
            const newTime = percentage * currentAudio.duration;
            
            currentAudio.currentTime = newTime;
        }

        function resetProgress(letter) {
            const progressBar = document.getElementById(`progress-${letter}`);
            progressBar.style.width = '0%';
            updateTimeDisplay(letter, 0, 0);
        }

        // Initialiser l'alphabet au chargement de la page
        document.addEventListener('DOMContentLoaded', function() {
            const grid = document.getElementById('alphabetGrid');
            soraniAlphabet.forEach((letterObj, index) => {
                const card = createLetterCard(letterObj, index);
                grid.appendChild(card);
            });
        });
    </script>
    
    <!-- Pied de page du site (fond gris foncÃ© avec texte blanc) -->
    <footer>
        <p>&copy; 2025 Kurdish Academy. All rights reserved.</p>
    </footer>
</body>
</html>
