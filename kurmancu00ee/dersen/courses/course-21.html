<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course 21 - Ragihandin (Communication) | Kurdish Academy</title>
    <link rel="stylesheet" href="../../../styles.css">
    <link rel="stylesheet" href="../../../chatbot.css">
    <script src="../../../scripts.js"></script>
    <script src="../../../chatbot-ai.js"></script>
    <style>
        .course-page { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }
        .course-header { text-align: center; margin-bottom: 50px; padding: 30px; background: linear-gradient(135deg, #66bb6a 0%, #81c784 100%); border-radius: 20px; color: white; }
        .course-header h1 { font-size: 2.5rem; margin-bottom: 10px; }
        .course-header .course-meta { font-size: 1.1rem; opacity: 0.95; }
        .back-link { display: inline-block; margin-bottom: 20px; padding: 10px 20px; background: #2e7d32; color: white; text-decoration: none; border-radius: 20px; transition: all 0.3s ease; }
        .back-link:hover { background: #1b5e20; transform: translateX(-5px); }
        .section { background: white; padding: 30px; margin-bottom: 30px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        .section-title { font-size: 2rem; color: #2e7d32; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .section-icon { font-size: 2.5rem; }
        .vocab-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .vocab-card { background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 20px; border-radius: 12px; text-align: center; transition: transform 0.3s ease; border: 2px solid #66bb6a; }
        .vocab-card:hover { transform: translateY(-5px); box-shadow: 0 6px 12px rgba(102, 187, 106, 0.2); }
        .vocab-word { font-size: 1.4rem; font-weight: bold; color: #1b5e20; margin-bottom: 8px; }
        .vocab-translation { font-size: 1rem; color: #2e7d32; }
        .structure-box { background: #e8f5e9; padding: 25px; border-radius: 12px; margin: 20px 0; border-left: 5px solid #4caf50; }
        .structure-pattern { font-size: 1.2rem; color: #2e7d32; margin: 15px 0; padding: 15px; background: white; border-radius: 8px; }
        .example-dialogue { background: #e8f5e9; padding: 20px; border-radius: 12px; margin: 20px 0; }
        .dialogue-line { margin: 15px 0; padding: 15px; background: white; border-radius: 8px; }
        .speaker { font-weight: bold; color: #2e7d32; margin-bottom: 8px; }
        .kurdish-text { font-size: 1.2rem; color: #333; margin: 8px 0; }
        .translation { font-size: 0.95rem; color: #666; font-style: italic; }
        .exercise-box { background: #f3e5f5; padding: 25px; border-radius: 12px; margin: 20px 0; border: 2px solid #ba68c8; }
        .exercise-title { font-size: 1.5rem; color: #6a1b9a; margin-bottom: 15px; font-weight: bold; }
        .exercise-box input[type="text"], .exercise-box textarea { width: 100%; padding: 12px; margin: 10px 0; border: 2px solid #ddd; border-radius: 8px; font-size: 1rem; }
        .exercise-box button { background: #2e7d32; color: white; padding: 12px 30px; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; transition: all 0.3s ease; }
        .exercise-box button:hover { background: #1b5e20; transform: scale(1.05); }
        .sms-box { background: #e8f5e9; padding: 20px; margin: 15px 0; border-radius: 15px; border: 2px solid #66bb6a; max-width: 400px; }
        .phone-box { background: #fff9c4; padding: 20px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #fbc02d; }
        .message-bubble { background: #c8e6c9; padding: 15px; border-radius: 18px; margin: 10px 0; max-width: 300px; position: relative; }
        .message-bubble.sent { background: #81c784; margin-left: auto; }
        .message-bubble.received { background: #e8f5e9; margin-right: auto; }
        .sortable-item { padding: 15px; margin: 10px 0; background: white; border: 2px solid #66bb6a; border-radius: 8px; cursor: move; transition: all 0.3s ease; }
        .sortable-item:hover { background: #e8f5e9; transform: scale(1.02); }
        .sortable-item.dragging { opacity: 0.5; }
        .sortable-item.over { border: 2px dashed #2e7d32; background: #c8e6c9; }
        .drop-zone { min-height: 60px; padding: 10px; border: 2px dashed #66bb6a; border-radius: 8px; margin: 10px 0; }
        .role-btn { transition: all 0.3s ease; }
        .role-btn:hover { background: #f5f5f5 !important; transform: translateX(5px); }
        .role-btn.correct { background: #c8e6c9 !important; border-color: #4caf50 !important; color: #2e7d32 !important; }
        .role-btn.incorrect { background: #ffcdd2 !important; border-color: #f44336 !important; color: #c62828 !important; }
    </style>
</head>
<body>
    <header>
        <div class="logo-left"><img src="../../../images/logo-left.png" alt="Kurdish Academy Logo" class="logo"></div>
        <h1>Kurdish Academy</h1>
        <div class="logo-right"><img src="../../../images/logo-right.png" alt="Kurdish Academy Logo" class="logo"></div>
    </header>
    <nav class="main-nav">
        <ul>
            <li><a href="../../../index.html">Home</a></li>
            <li><a href="../../documents/documents.html">Document</a></li>
            <li><a href="#" class="active" id="kurmanci-link">Kurmanc√Æ</a></li>
            <li><a href="#" id="sorani-link">Sorani</a></li>
            <li><a href="#" id="culture-link">Culture</a></li>
        </ul>
    </nav>
    <nav class="sub-nav" id="kurmanci-subnav">
        <ul>
            <li><a href="../dersen.html" class="active">Ders√™n (Course)</a></li>
            <li><a href="../../alfabe/alfabe.html">Alfab√™ (Alphabet)</a></li>
            <li><a href="../../peyven/peyven.html">Peyv√™n (Vocabulary)</a></li>
            <li><a href="../../leker/leker.html">L√™ker (Verbs)</a></li>
            <li><a href="../../reziman/reziman.html">R√™ziman (Grammar)</a></li>
            <li><a href="../../guhdarikirn/guhdarikirn.html">Guhdar√Ækirin (Listening)</a></li>
            <li><a href="../../xwendin/xwendin.html">Xwendin (Reading)</a></li>
            <li><a href="../../nivisandin/nivisandin.html">Niv√Æsandin (Writing)</a></li>
            <li><a href="../../axaftin/axaftin.html">Axaftin (Speaking)</a></li>
        </ul>
    </nav>
    <main class="course-page">
        <a href="../level-a1.html" class="back-link">‚Üê Back to A1 Courses</a>
        <div class="course-header">
            <h1>üì± Course 21: Ragihandin (Communication)</h1>
            <div class="course-meta">Phone Calls & Text Messages | A1 Level</div>
        </div>
        <div class="course-content">
            
            <!-- Section 1: Vocabulary -->
            <div class="section">
                <h2 class="section-title"><span class="section-icon">üß©</span>1. Peyv√™n (Vocabulary): Ragihandin</h2>
                
                <h3 style="color: #2e7d32; margin: 20px 0;">üìû Telefon (Phone)</h3>
                <div class="vocab-grid">
                    <div class="vocab-card"><div class="vocab-word">Telefon</div><div class="vocab-translation">Phone/Telephone</div></div>
                    <div class="vocab-card"><div class="vocab-word">Mob√Æl</div><div class="vocab-translation">Mobile phone</div></div>
                    <div class="vocab-card"><div class="vocab-word">Bangkirin</div><div class="vocab-translation">To call</div></div>
                    <div class="vocab-card"><div class="vocab-word">Bersivdan</div><div class="vocab-translation">To answer</div></div>
                    <div class="vocab-card"><div class="vocab-word">Peyam</div><div class="vocab-translation">Message</div></div>
                    <div class="vocab-card"><div class="vocab-word">SMS</div><div class="vocab-translation">Text message</div></div>
                    <div class="vocab-card"><div class="vocab-word">Jimare</div><div class="vocab-translation">Number</div></div>
                    <div class="vocab-card"><div class="vocab-word">Gir√™dan</div><div class="vocab-translation">To hang up</div></div>
                </div>

                <h3 style="color: #2e7d32; margin: 20px 0;">üí¨ Peyam (Messages)</h3>
                <div class="vocab-grid">
                    <div class="vocab-card"><div class="vocab-word">Niv√Æsandin</div><div class="vocab-translation">To write</div></div>
                    <div class="vocab-card"><div class="vocab-word">≈ûandin</div><div class="vocab-translation">To send</div></div>
                    <div class="vocab-card"><div class="vocab-word">Wergirtin</div><div class="vocab-translation">To receive</div></div>
                    <div class="vocab-card"><div class="vocab-word">Xwendin</div><div class="vocab-translation">To read</div></div>
                    <div class="vocab-card"><div class="vocab-word">Vexwendin</div><div class="vocab-translation">Voice message</div></div>
                    <div class="vocab-card"><div class="vocab-word">Bersiv</div><div class="vocab-translation">Reply/Response</div></div>
                    <div class="vocab-card"><div class="vocab-word">Vexistin</div><div class="vocab-translation">To delete</div></div>
                    <div class="vocab-card"><div class="vocab-word">Hilan√Æn</div><div class="vocab-translation">To save</div></div>
                </div>

                <h3 style="color: #2e7d32; margin: 20px 0;">üó£Ô∏è Axaftin (Speaking)</h3>
                <div class="vocab-grid">
                    <div class="vocab-card"><div class="vocab-word">Silav</div><div class="vocab-translation">Hello/Greetings</div></div>
                    <div class="vocab-card"><div class="vocab-word">Al√¥</div><div class="vocab-translation">Hello (on phone)</div></div>
                    <div class="vocab-card"><div class="vocab-word">Bibore</div><div class="vocab-translation">Excuse me/Sorry</div></div>
                    <div class="vocab-card"><div class="vocab-word">Ji kerema xwe</div><div class="vocab-translation">Please</div></div>
                    <div class="vocab-card"><div class="vocab-word">Spas</div><div class="vocab-translation">Thanks</div></div>
                    <div class="vocab-card"><div class="vocab-word">Xatir</div><div class="vocab-translation">Goodbye</div></div>
                    <div class="vocab-card"><div class="vocab-word">Pa≈ü√™</div><div class="vocab-translation">Later</div></div>
                    <div class="vocab-card"><div class="vocab-word">Bend√™</div><div class="vocab-translation">Wait/Hold on</div></div>
                </div>
            </div>

            <!-- Section 2: Grammar - Short Phrases & Politeness -->
            <div class="section">
                <h2 class="section-title"><span class="section-icon">üß†</span>2. R√™ziman (Grammar): Hevok√™n Kurt √ª Edeb</h2>
                
                <div style="background: #e8f5e9; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #66bb6a;">
                    <h4 style="color: #1b5e20; margin-bottom: 10px;">üí° Phone Communication Basics</h4>
                    <p style="line-height: 1.8;">
                        Phone conversations and text messages in Kurdish use short, polite phrases. Being polite is very important in Kurdish culture.
                    </p>
                </div>

                <div class="structure-box">
                    <h3 style="color: #2e7d32; margin-bottom: 15px;">üìå Starting a Phone Call</h3>
                    <div class="structure-pattern">
                        <strong>Al√¥</strong> = Hello (on phone)<br>
                        <strong>Silav</strong> = Hello/Greetings<br>
                        <strong>Tu √ßawa y√Æ?</strong> = How are you?<br>
                        <strong>Ez ... im</strong> = I am ... (introducing yourself)<br>
                        <strong>Ez dixwazim bi ... re bipeyivim</strong> = I want to speak with ...<br><br>
                        
                        <strong>Examples:</strong><br>
                        ‚Ä¢ Al√¥, ez Leyla me. = Hello, I'm Leyla.<br>
                        ‚Ä¢ Silav, tu √ßawa y√Æ? = Hello, how are you?<br>
                        ‚Ä¢ Ez dixwazim bi R√™zan re bipeyivim. = I want to speak with R√™zan.
                    </div>
                </div>

                <div class="phone-box">
                    <h3 style="color: #f57f17; margin-bottom: 15px;">üìå Polite Expressions</h3>
                    <div style="font-size: 1.1rem; line-height: 2;">
                        <strong>Ji kerema xwe</strong> = Please<br>
                        <strong>Spas dikim</strong> = Thank you<br>
                        <strong>Bibore</strong> = Sorry/Excuse me<br>
                        <strong>Bend√™</strong> = Wait/Hold on<br>
                        <strong>Tu dikar√Æ?</strong> = Can you?<br>
                        <strong>Pirsgir√™k tune</strong> = No problem<br>
                        <strong>Bi x√™r be</strong> = You're welcome<br>
                        <strong>Xatir</strong> = Goodbye<br><br>
                        
                        <strong>Examples:</strong><br>
                        ‚Ä¢ Ji kerema xwe, tu dikar√Æ bersiv√™ bid√Æ? = Please, can you answer?<br>
                        ‚Ä¢ Bibore, ez dereng im. = Sorry, I'm late.<br>
                        ‚Ä¢ Spas dikim, xatir! = Thank you, goodbye!
                    </div>
                </div>

                <div class="structure-box">
                    <h3 style="color: #2e7d32; margin-bottom: 15px;">üìå Leaving Messages</h3>
                    <div class="structure-pattern">
                        <strong>Ez peyamek dih√™lim</strong> = I'm leaving a message<br>
                        <strong>Tu dikar√Æ peyamek bid√Æ?</strong> = Can you give a message?<br>
                        <strong>Ji kerema xwe, b√™je ku...</strong> = Please, tell him/her that...<br>
                        <strong>Ez pa≈ü√™ d√™ bang bikim</strong> = I'll call later<br><br>
                        
                        <strong>SMS Phrases:</strong><br>
                        ‚Ä¢ Ez d√™ dereng bim. = I'll be late.<br>
                        ‚Ä¢ Tu dikar√Æ b√™? = Can you come?<br>
                        ‚Ä¢ Em hevdu bib√Ænin. = Let's meet.<br>
                        ‚Ä¢ Spas ji bo her ti≈üt√Æ. = Thanks for everything.<br>
                        ‚Ä¢ Pa≈ü√™ dipeyivim. = Talk later.
                    </div>
                </div>

                <div class="example-dialogue">
                    <h4 style="color: #2e7d32; margin-bottom: 15px;">üí¨ Example Sentences:</h4>
                    <p style="font-size: 1.1rem; line-height: 2;">
                        ‚Ä¢ Al√¥, ez Dilan im. Tu √ßawa y√Æ?<br>
                        ‚Ä¢ Ji kerema xwe, tu dikar√Æ peyamek bid√Æ R√™zan?<br>
                        ‚Ä¢ Bibore, ez nikarim b√™m.<br>
                        ‚Ä¢ Spas dikim, pa≈ü√™ dipeyivim!<br>
                        ‚Ä¢ Ez d√™ sibe bang bikim.
                    </p>
                </div>
            </div>

            <!-- Section 3: Listening - Voice Message -->
            <div class="section">
                <h2 class="section-title"><span class="section-icon">üéß</span>3. Guhdar√Ækirin (Listening): Peyama Deng√Æ</h2>
                
                <p style="font-size: 1.1rem; margin-bottom: 20px;">
                    Listen to these voice messages:
                </p>

                <div class="example-dialogue">
                    <div style="text-align: center; font-size: 3rem; margin: 20px 0;">üé§</div>
                    <h4 style="color: #2e7d32; text-align: center; margin-bottom: 20px;">Peyam√™n Deng√Æ</h4>

                    <div class="dialogue-line">
                        <div class="speaker">üì± Peyama 1 - Leyla:</div>
                        <div class="kurdish-text">Al√¥ R√™zan, ez Leyla me. Ez √Æro nikarim b√™m √ßalakiy√™. Bibore, ez nexwe≈ü im. Ez sibe d√™ bang bikim. Xatir!</div>
                        <div class="translation">Hello R√™zan, I'm Leyla. I can't come to the activity today. Sorry, I'm sick. I'll call tomorrow. Goodbye!</div>
                    </div>

                    <div class="dialogue-line">
                        <div class="speaker">üì± Peyama 2 - R√™zan:</div>
                        <div class="kurdish-text">Silav Dilan! Tu li ku y√Æ? Em li qehwexaney√™ ne. Tu dikar√Æ b√™? Ji kerema xwe, bersiv√™ bide. Spas!</div>
                        <div class="translation">Hello Dilan! Where are you? We're at the caf√©. Can you come? Please, reply. Thanks!</div>
                    </div>

                    <div class="dialogue-line">
                        <div class="speaker">üì± Peyama 3 - Dilan:</div>
                        <div class="kurdish-text">Al√¥ day√Æk, ez d√™ dereng bim. Traf√Æk pir z√™de ye. Ez d√™ saet 7√™ bigih√Æjim mal√™. Bibore!</div>
                        <div class="translation">Hello mom, I'll be late. Traffic is very heavy. I'll arrive home at 7. Sorry!</div>
                    </div>
                </div>

                <div class="exercise-box">
                    <div class="exercise-title">üéØ Fill in the Blanks</div>
                    <p style="margin-bottom: 15px;">Complete these sentences based on the voice messages:</p>
                    
                    <div style="margin: 15px 0;">
                        <label style="font-weight: bold; display: block; margin-bottom: 8px;">1. Leyla can't come because she is _____.</label>
                        <input type="text" id="listen-q1" placeholder="Type in Kurdish...">
                        <div id="listen-q1-feedback" style="margin-top: 8px; font-weight: bold;"></div>
                    </div>

                    <div style="margin: 15px 0;">
                        <label style="font-weight: bold; display: block; margin-bottom: 8px;">2. R√™zan and friends are at the _____.</label>
                        <input type="text" id="listen-q2" placeholder="Type in Kurdish...">
                        <div id="listen-q2-feedback" style="margin-top: 8px; font-weight: bold;"></div>
                    </div>

                    <div style="margin: 15px 0;">
                        <label style="font-weight: bold; display: block; margin-bottom: 8px;">3. Dilan will arrive home at _____ o'clock.</label>
                        <input type="text" id="listen-q3" placeholder="Type the time...">
                        <div id="listen-q3-feedback" style="margin-top: 8px; font-weight: bold;"></div>
                    </div>

                    <button onclick="checkListening()">‚úì Check Answers</button>
                    <div id="listen-score" style="margin-top: 15px; font-size: 1.2rem; font-weight: bold;"></div>
                </div>
            </div>

            <!-- Section 4: Reading - SMS Messages -->
            <div class="section">
                <h2 class="section-title"><span class="section-icon">üìñ</span>4. Xwendin (Reading): SMS√™n</h2>
                
                <p style="font-size: 1.1rem; margin-bottom: 20px;">
                    Read these text message conversations:
                </p>

                <div style="background: white; border: 3px solid #66bb6a; padding: 30px; margin: 20px 0; border-radius: 12px;">
                    <h3 style="color: #1b5e20; text-align: center; margin-bottom: 20px;">üì± Guft√ªgoy√™n SMS</h3>
                    
                    <div style="margin: 30px 0;">
                        <h4 style="color: #2e7d32; margin-bottom: 15px;">Conversation 1: Making Plans</h4>
                        <div class="message-bubble received">
                            <strong>Leyla:</strong> Silav! Tu √Æro √™var√™ azad √Æ?
                        </div>
                        <div class="message-bubble sent">
                            <strong>R√™zan:</strong> Er√™, ez azad im. √ái heye?
                        </div>
                        <div class="message-bubble received">
                            <strong>Leyla:</strong> Em bi√ßin s√Ænemay√™? F√Ælmeke n√ª heye.
                        </div>
                        <div class="message-bubble sent">
                            <strong>R√™zan:</strong> Fikra xwe≈ü e! Saet √ßend?
                        </div>
                        <div class="message-bubble received">
                            <strong>Leyla:</strong> Saet 7√™ li ber s√Ænemay√™?
                        </div>
                        <div class="message-bubble sent">
                            <strong>R√™zan:</strong> Ba≈ü e, ez d√™ li wir bim. Spas!
                        </div>
                    </div>

                    <div style="margin: 30px 0;">
                        <h4 style="color: #2e7d32; margin-bottom: 15px;">Conversation 2: Running Late</h4>
                        <div class="message-bubble received">
                            <strong>Dilan:</strong> Bibore, ez d√™ dereng bim.
                        </div>
                        <div class="message-bubble sent">
                            <strong>Heval:</strong> Pirsgir√™k tune. √áiqas dereng?
                        </div>
                        <div class="message-bubble received">
                            <strong>Dilan:</strong> 15 deqe. Traf√Æk pir z√™de ye.
                        </div>
                        <div class="message-bubble sent">
                            <strong>Heval:</strong> Ba≈ü e, em li vir bend√™ te ne.
                        </div>
                    </div>

                    <div style="margin: 30px 0;">
                        <h4 style="color: #2e7d32; margin-bottom: 15px;">Conversation 3: Canceling</h4>
                        <div class="message-bubble received">
                            <strong>R√™zan:</strong> Bibore, ez nikarim b√™m √Æro.
                        </div>
                        <div class="message-bubble sent">
                            <strong>Leyla:</strong> √áima? Tu ba≈ü √Æ?
                        </div>
                        <div class="message-bubble received">
                            <strong>R√™zan:</strong> Ez nexwe≈ü im. Ser√™ min di√™≈üe.
                        </div>
                        <div class="message-bubble sent">
                            <strong>Leyla:</strong> Xem neke! Xwe bi xwe ve bigre. Sibe hevdu dib√Ænin.
                        </div>
                        <div class="message-bubble received">
                            <strong>R√™zan:</strong> Spas dikim! Pa≈ü√™ dipeyivim.
                        </div>
                    </div>
                </div>

                <div class="exercise-box">
                    <div class="exercise-title">üéØ Matching Questions</div>
                    <p style="margin-bottom: 15px;">Match the situation with the correct conversation:</p>
                    
                    <div style="margin: 20px 0;">
                        <label style="font-weight: bold; display: block; margin-bottom: 12px;">Which conversation is about going to the cinema?</label>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <label style="padding: 10px; border: 2px solid #ddd; border-radius: 8px; cursor: pointer;">
                                <input type="radio" name="read-q1" value="1"> Conversation 1
                            </label>
                            <label style="padding: 10px; border: 2px solid #ddd; border-radius: 8px; cursor: pointer;">
                                <input type="radio" name="read-q1" value="2"> Conversation 2
                            </label>
                            <label style="padding: 10px; border: 2px solid #ddd; border-radius: 8px; cursor: pointer;">
                                <input type="radio" name="read-q1" value="3"> Conversation 3
                            </label>
                        </div>
                        <div id="read-q1-feedback" style="margin-top: 8px; font-weight: bold;"></div>
                    </div>

                    <div style="margin: 20px 0;">
                        <label style="font-weight: bold; display: block; margin-bottom: 12px;">In which conversation is someone sick?</label>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <label style="padding: 10px; border: 2px solid #ddd; border-radius: 8px; cursor: pointer;">
                                <input type="radio" name="read-q2" value="1"> Conversation 1
                            </label>
                            <label style="padding: 10px; border: 2px solid #ddd; border-radius: 8px; cursor: pointer;">
                                <input type="radio" name="read-q2" value="2"> Conversation 2
                            </label>
                            <label style="padding: 10px; border: 2px solid #ddd; border-radius: 8px; cursor: pointer;">
                                <input type="radio" name="read-q2" value="3"> Conversation 3
                            </label>
                        </div>
                        <div id="read-q2-feedback" style="margin-top: 8px; font-weight: bold;"></div>
                    </div>

                    <div style="margin: 20px 0;">
                        <label style="font-weight: bold; display: block; margin-bottom: 12px;">How many minutes late will Dilan be?</label>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <label style="padding: 10px; border: 2px solid #ddd; border-radius: 8px; cursor: pointer;">
                                <input type="radio" name="read-q3" value="10"> 10 minutes
                            </label>
                            <label style="padding: 10px; border: 2px solid #ddd; border-radius: 8px; cursor: pointer;">
                                <input type="radio" name="read-q3" value="15"> 15 minutes
                            </label>
                            <label style="padding: 10px; border: 2px solid #ddd; border-radius: 8px; cursor: pointer;">
                                <input type="radio" name="read-q3" value="20"> 20 minutes
                            </label>
                        </div>
                        <div id="read-q3-feedback" style="margin-top: 8px; font-weight: bold;"></div>
                    </div>

                    <button onclick="checkReading()">‚úì Check Answers</button>
                    <div id="read-score" style="margin-top: 15px; font-size: 1.2rem; font-weight: bold;"></div>
                </div>
            </div>

            <!-- Section 5: Writing - 3 SMS -->
            <div class="section">
                <h2 class="section-title"><span class="section-icon">‚úçÔ∏è</span>5. Niv√Æsandin (Writing): S√™ SMS√™n</h2>
                
                <p style="font-size: 1.1rem; margin-bottom: 20px;">
                    Write three different text messages for different situations:
                </p>

                <div class="exercise-box">
                    <div class="exercise-title">üìù Writing Exercise: Three SMS Messages</div>
                    
                    <div style="margin: 25px 0; padding: 20px; background: #e8f5e9; border-radius: 10px;">
                        <h4 style="color: #2e7d32; margin-bottom: 10px;">1Ô∏è‚É£ SMS to Invite (Vexwendin)</h4>
                        <p style="margin-bottom: 10px; color: #666;">Invite a friend to do something (cinema, caf√©, park, etc.)</p>
                        <textarea id="write-invite" rows="3" placeholder="Tu √Æro √™var√™ azad √Æ? Em bi√ßin..."></textarea>
                        <div id="write-invite-feedback" style="margin-top: 8px; font-weight: bold;"></div>
                    </div>

                    <div style="margin: 25px 0; padding: 20px; background: #fff3e0; border-radius: 10px;">
                        <h4 style="color: #f57f17; margin-bottom: 10px;">2Ô∏è‚É£ SMS to Inform (Agahdar√Ækirin)</h4>
                        <p style="margin-bottom: 10px; color: #666;">Inform someone you'll be late or can't come</p>
                        <textarea id="write-inform" rows="3" placeholder="Bibore, ez d√™ dereng bim..."></textarea>
                        <div id="write-inform-feedback" style="margin-top: 8px; font-weight: bold;"></div>
                    </div>

                    <div style="margin: 25px 0; padding: 20px; background: #ffebee; border-radius: 10px;">
                        <h4 style="color: #c62828; margin-bottom: 10px;">3Ô∏è‚É£ SMS to Apologize (L√™bor√Ænxwestin)</h4>
                        <p style="margin-bottom: 10px; color: #666;">Apologize for something (being late, forgetting, canceling, etc.)</p>
                        <textarea id="write-excuse" rows="3" placeholder="Bibore, ez ji b√Ær kir..."></textarea>
                        <div id="write-excuse-feedback" style="margin-top: 8px; font-weight: bold;"></div>
                    </div>

                    <button onclick="checkWriting()">‚úì Submit All Messages</button>
                    <div id="write-score" style="margin-top: 15px; font-size: 1.2rem; font-weight: bold;"></div>
                </div>
            </div>

            <!-- Section 6: Speaking - Simulated Call -->
            <div class="section">
                <h2 class="section-title"><span class="section-icon">üó£Ô∏è</span>6. Axaftin (Speaking): Bangkirina ≈ûablon</h2>
                
                <p style="font-size: 1.1rem; margin-bottom: 20px;">
                    Practice a complete phone conversation by selecting the correct responses:
                </p>

                <div style="background: #e8f5e9; padding: 30px; border-radius: 15px; margin: 20px 0; border: 3px solid #66bb6a;">
                    <h3 style="color: #1b5e20; text-align: center; margin-bottom: 25px;">‚òéÔ∏è Guft√ªgoya Telefon√™</h3>
                    
                    <div class="phone-box">
                        <div class="speaker">üìû Step 1: The phone rings, you answer...</div>
                        <p style="margin: 10px 0; font-weight: bold;">What do you say?</p>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button class="role-btn" onclick="checkCall(1, 'a')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                A) Al√¥, silav!
                            </button>
                            <button class="role-btn" onclick="checkCall(1, 'b')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                B) Xatir!
                            </button>
                            <button class="role-btn" onclick="checkCall(1, 'c')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                C) Bibore!
                            </button>
                        </div>
                        <div id="call-feedback-1" style="margin-top: 15px; font-weight: bold;"></div>
                    </div>

                    <div class="phone-box">
                        <div class="speaker">üìû Step 2: They ask "Tu √ßawa y√Æ?" (How are you?)</div>
                        <p style="margin: 10px 0; font-weight: bold;">What do you say?</p>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button class="role-btn" onclick="checkCall(2, 'a')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                A) Ez ba≈ü im, spas. Tu √ßawa y√Æ?
                            </button>
                            <button class="role-btn" onclick="checkCall(2, 'b')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                B) Ez nexwe≈ü im.
                            </button>
                            <button class="role-btn" onclick="checkCall(2, 'c')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                C) Xatir!
                            </button>
                        </div>
                        <div id="call-feedback-2" style="margin-top: 15px; font-weight: bold;"></div>
                    </div>

                    <div class="phone-box">
                        <div class="speaker">üìû Step 3: You need to ask them to wait a moment...</div>
                        <p style="margin: 10px 0; font-weight: bold;">What do you say?</p>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button class="role-btn" onclick="checkCall(3, 'a')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                A) Ji kerema xwe, bend√™.
                            </button>
                            <button class="role-btn" onclick="checkCall(3, 'b')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                B) Spas dikim.
                            </button>
                            <button class="role-btn" onclick="checkCall(3, 'c')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                C) Ez azad im.
                            </button>
                        </div>
                        <div id="call-feedback-3" style="margin-top: 15px; font-weight: bold;"></div>
                    </div>

                    <div class="phone-box">
                        <div class="speaker">üìû Step 4: You need to end the call politely...</div>
                        <p style="margin: 10px 0; font-weight: bold;">What do you say?</p>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button class="role-btn" onclick="checkCall(4, 'a')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                A) Spas dikim, pa≈ü√™ dipeyivim. Xatir!
                            </button>
                            <button class="role-btn" onclick="checkCall(4, 'b')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                B) Al√¥!
                            </button>
                            <button class="role-btn" onclick="checkCall(4, 'c')" style="padding: 12px; border: 2px solid #ddd; border-radius: 8px; background: white; cursor: pointer; text-align: left; color: #333;">
                                C) Bend√™!
                            </button>
                        </div>
                        <div id="call-feedback-4" style="margin-top: 15px; font-weight: bold;"></div>
                    </div>

                    <div style="text-align: center; margin-top: 30px; padding: 20px; background: white; border-radius: 10px;">
                        <h4 style="color: #2e7d32;">üéØ Your Score: <span id="call-correct">0</span> / 4</h4>
                    </div>
                </div>
            </div>

            <!-- Section 7: Culture -->
            <div class="section">
                <h2 class="section-title"><span class="section-icon">üåø</span>7. √áand (Culture): Kurdish Communication Etiquette</h2>
                <p style="font-size: 1.1rem; margin-bottom: 20px;">Discover Kurdish communication customs and phone etiquette:</p>
                
                <div style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 30px; border-radius: 15px; margin: 20px 0; border: 3px solid #66bb6a;">
                    <h3 style="color: #1b5e20; text-align: center; margin-bottom: 25px;">üì± Ragihandina Kurd√Æ (Kurdish Communication)</h3>
                    
                    <div style="background: white; padding: 20px; margin: 15px 0; border-radius: 10px; border-left: 4px solid #66bb6a;">
                        <h4 style="color: #1b5e20; margin-bottom: 10px;">‚òéÔ∏è Phone Call Etiquette</h4>
                        <p style="line-height: 1.8;">
                            In Kurdish culture, phone calls are important for maintaining relationships. When calling, it's customary to start with <strong>"Al√¥"</strong> or <strong>"Silav"</strong> followed by asking about the person's well-being (<strong>"Tu √ßawa y√Æ?"</strong>). Even brief calls include these pleasantries. Elders are addressed with extra respect, often using <strong>"Mam"</strong> (uncle) or <strong>"Xalt√Æ"</strong> (aunt) even for non-relatives. It's considered rude to end a call abruptly without proper goodbyes.
                        </p>
                    </div>

                    <div style="background: white; padding: 20px; margin: 15px 0; border-radius: 10px; border-left: 4px solid #66bb6a;">
                        <h4 style="color: #1b5e20; margin-bottom: 10px;">üí¨ Text Messaging Culture</h4>
                        <p style="line-height: 1.8;">
                            While younger Kurds embrace SMS and messaging apps like WhatsApp and Telegram, traditional values still influence digital communication. Messages often include greetings and well-wishes even in brief texts. <strong>"Silav"</strong> (hello) and <strong>"Spas"</strong> (thanks) are commonly used. Emojis and voice messages are very popular. It's common to send good morning (<strong>"Sib√™ bi x√™r"</strong>) and good night (<strong>"≈ûev bi x√™r"</strong>) messages to close friends and family.
                        </p>
                    </div>

                    <div style="background: white; padding: 20px; margin: 15px 0; border-radius: 10px; border-left: 4px solid #66bb6a;">
                        <h4 style="color: #1b5e20; margin-bottom: 10px;">ü§ù Politeness & Respect</h4>
                        <p style="line-height: 1.8;">
                            <strong>"Ji kerema xwe"</strong> (please) and <strong>"Spas dikim"</strong> (thank you) are essential in Kurdish communication. When apologizing, <strong>"Bibore"</strong> (sorry/excuse me) is used frequently. Kurds value indirect communication and often soften requests with polite phrases. When declining invitations, it's important to provide a reason and express regret. The phrase <strong>"Xem neke"</strong> (don't worry/no problem) is commonly used to reassure others.
                        </p>
                    </div>

                    <div style="background: white; padding: 20px; margin: 15px 0; border-radius: 10px; border-left: 4px solid #66bb6a;">
                        <h4 style="color: #1b5e20; margin-bottom: 10px;">üìû Family Communication</h4>
                        <p style="line-height: 1.8;">
                            Regular phone calls to family members are expected and valued. Children call their parents frequently, and siblings stay in close contact. It's common for parents to call multiple times a day to check on their children, especially if they live away from home. This isn't seen as intrusive but as a sign of love and care. Extended family members also maintain regular phone contact, sharing news and coordinating family gatherings.
                        </p>
                    </div>

                    <div style="background: white; padding: 20px; margin: 15px 0; border-radius: 10px; border-left: 4px solid #66bb6a;">
                        <h4 style="color: #1b5e20; margin-bottom: 10px;">üéâ Special Occasions</h4>
                        <p style="line-height: 1.8;">
                            During holidays like <strong>Newroz</strong> (Kurdish New Year), <strong>Eid</strong>, and birthdays, Kurds send many congratulatory messages and make calls to friends and family. It's customary to wish everyone well with phrases like <strong>"Newroz p√Æroz be"</strong> (Happy Newroz) or <strong>Cejna te p√Æroz be"</strong> (Happy holiday). Not sending greetings during these times can be seen as neglectful of relationships.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Section 8: Review Exercises -->
            <div class="section">
                <h2 class="section-title"><span class="section-icon">üîÑ</span>8. Dubare (Review): Message Ordering</h2>
                
                <div class="exercise-box">
                    <div class="exercise-title">üéØ Put the Conversation in Order</div>
                    <p style="margin-bottom: 20px;">Drag and drop these messages to create a logical phone conversation (from first to last):</p>
                    
                    <div id="sortable-container" style="margin: 20px 0;">
                        <div class="sortable-item" draggable="true" data-order="1">
                            üì± Al√¥, silav! Ez Leyla me.
                        </div>
                        <div class="sortable-item" draggable="true" data-order="4">
                            üì± Ba≈ü e, saet 7√™ li ber s√Ænemay√™?
                        </div>
                        <div class="sortable-item" draggable="true" data-order="2">
                            üì± Silav Leyla! Tu √ßawa y√Æ?
                        </div>
                        <div class="sortable-item" draggable="true" data-order="5">
                            üì± Er√™, ez d√™ li wir bim. Spas!
                        </div>
                        <div class="sortable-item" draggable="true" data-order="3">
                            üì± Ez ba≈ü im, spas. Tu √Æro √™var√™ azad √Æ? Em bi√ßin s√Ænemay√™?
                        </div>
                        <div class="sortable-item" draggable="true" data-order="6">
                            üì± Pir ba≈ü! Pa≈ü√™ hevdu dib√Ænin. Xatir!
                        </div>
                    </div>

                    <div style="text-align: center; margin: 20px 0;">
                        <button onclick="checkOrder()" style="background: #2e7d32; margin-right: 10px;">‚úì Check Order</button>
                        <button onclick="resetOrder()" style="background: #757575;">‚Üª Reset</button>
                    </div>
                    <div id="order-feedback" style="margin-top: 15px; font-size: 1.2rem; font-weight: bold; text-align: center;"></div>
                </div>
            </div>

            <!-- Completion Section -->
            <div class="section" style="text-align: center; background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);">
                <h2 style="color: #1b5e20; margin-bottom: 20px;">üéâ P√Æroz be! Congratulations!</h2>
                <p style="font-size: 1.2rem; margin-bottom: 20px;">
                    You've completed Course 21: Communication!<br>
                    You can now make phone calls, send messages, and communicate politely in Kurdish!
                </p>
                <a href="../level-a1.html" class="back-link" style="background: #1b5e20;">‚Üê Back to Course Selection</a>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Kurdish Academy. All rights reserved.</p>
    </footer>

    <script>
        // Listening comprehension validation (fill in the blanks)
        function checkListening() {
            let correct = 0;
            const total = 3;

            const q1 = document.getElementById('listen-q1').value.toLowerCase().trim();
            const q1Feedback = document.getElementById('listen-q1-feedback');
            if (q1.includes('nexwe≈ü') || q1.includes('nexwes')) {
                correct++;
                q1Feedback.innerHTML = '‚úÖ Correct! Nexwe≈ü (sick)';
                q1Feedback.style.color = '#2e7d32';
            } else {
                q1Feedback.innerHTML = '‚ùå Wrong. Correct answer: <strong>nexwe≈ü</strong>';
                q1Feedback.style.color = '#d32f2f';
            }

            const q2 = document.getElementById('listen-q2').value.toLowerCase().trim();
            const q2Feedback = document.getElementById('listen-q2-feedback');
            if (q2.includes('qehwexane')) {
                correct++;
                q2Feedback.innerHTML = '‚úÖ Correct! Qehwexaney√™ (caf√©)';
                q2Feedback.style.color = '#2e7d32';
            } else {
                q2Feedback.innerHTML = '‚ùå Wrong. Correct answer: <strong>qehwexaney√™</strong>';
                q2Feedback.style.color = '#d32f2f';
            }

            const q3 = document.getElementById('listen-q3').value.trim();
            const q3Feedback = document.getElementById('listen-q3-feedback');
            if (q3.includes('7')) {
                correct++;
                q3Feedback.innerHTML = '‚úÖ Correct! Saet 7';
                q3Feedback.style.color = '#2e7d32';
            } else {
                q3Feedback.innerHTML = '‚ùå Wrong. Correct answer: <strong>7</strong>';
                q3Feedback.style.color = '#d32f2f';
            }

            const scoreDiv = document.getElementById('listen-score');
            scoreDiv.textContent = `Score: ${correct} / ${total}`;
            scoreDiv.style.color = correct === total ? '#2e7d32' : '#f57f17';
        }

        // Reading comprehension validation (radio buttons)
        function checkReading() {
            let correct = 0;
            const total = 3;

            const q1 = document.querySelector('input[name="read-q1"]:checked');
            const q1Feedback = document.getElementById('read-q1-feedback');
            if (q1 && q1.value === '1') {
                correct++;
                q1Feedback.innerHTML = '‚úÖ Correct! Conversation 1 is about cinema';
                q1Feedback.style.color = '#2e7d32';
            } else if (!q1) {
                q1Feedback.innerHTML = '‚ö†Ô∏è Please select an answer';
                q1Feedback.style.color = '#f57f17';
            } else {
                q1Feedback.innerHTML = '‚ùå Wrong. Correct answer: <strong>Conversation 1</strong>';
                q1Feedback.style.color = '#d32f2f';
            }

            const q2 = document.querySelector('input[name="read-q2"]:checked');
            const q2Feedback = document.getElementById('read-q2-feedback');
            if (q2 && q2.value === '3') {
                correct++;
                q2Feedback.innerHTML = '‚úÖ Correct! Conversation 3 - R√™zan is sick';
                q2Feedback.style.color = '#2e7d32';
            } else if (!q2) {
                q2Feedback.innerHTML = '‚ö†Ô∏è Please select an answer';
                q2Feedback.style.color = '#f57f17';
            } else {
                q2Feedback.innerHTML = '‚ùå Wrong. Correct answer: <strong>Conversation 3</strong>';
                q2Feedback.style.color = '#d32f2f';
            }

            const q3 = document.querySelector('input[name="read-q3"]:checked');
            const q3Feedback = document.getElementById('read-q3-feedback');
            if (q3 && q3.value === '15') {
                correct++;
                q3Feedback.innerHTML = '‚úÖ Correct! 15 minutes';
                q3Feedback.style.color = '#2e7d32';
            } else if (!q3) {
                q3Feedback.innerHTML = '‚ö†Ô∏è Please select an answer';
                q3Feedback.style.color = '#f57f17';
            } else {
                q3Feedback.innerHTML = '‚ùå Wrong. Correct answer: <strong>15 minutes</strong>';
                q3Feedback.style.color = '#d32f2f';
            }

            const scoreDiv = document.getElementById('read-score');
            scoreDiv.textContent = `Score: ${correct} / ${total}`;
            scoreDiv.style.color = correct === total ? '#2e7d32' : '#f57f17';
        }

        // Writing validation (3 SMS)
        function checkWriting() {
            const invite = document.getElementById('write-invite').value.trim();
            const inform = document.getElementById('write-inform').value.trim();
            const excuse = document.getElementById('write-excuse').value.trim();
            
            let score = 0;
            
            // Check invite SMS
            const inviteFeedback = document.getElementById('write-invite-feedback');
            if (invite.length < 10) {
                inviteFeedback.innerHTML = '‚ùå Please write a complete invitation message.';
                inviteFeedback.style.color = '#d32f2f';
            } else if (/tu|em|bi√ßin|b√™/i.test(invite)) {
                score++;
                inviteFeedback.innerHTML = '‚úÖ Good invitation message!';
                inviteFeedback.style.color = '#2e7d32';
            } else {
                inviteFeedback.innerHTML = 'üí™ Try to include an invitation (tu dikar√Æ b√™? / em bi√ßin...)';
                inviteFeedback.style.color = '#f57f17';
            }
            
            // Check inform SMS
            const informFeedback = document.getElementById('write-inform-feedback');
            if (inform.length < 10) {
                informFeedback.innerHTML = '‚ùå Please write a complete information message.';
                informFeedback.style.color = '#d32f2f';
            } else if (/dereng|nikarim|nexwe≈ü/i.test(inform)) {
                score++;
                informFeedback.innerHTML = '‚úÖ Good information message!';
                informFeedback.style.color = '#2e7d32';
            } else {
                informFeedback.innerHTML = 'üí™ Try to inform about being late or unable to come.';
                informFeedback.style.color = '#f57f17';
            }
            
            // Check excuse SMS
            const excuseFeedback = document.getElementById('write-excuse-feedback');
            if (excuse.length < 10) {
                excuseFeedback.innerHTML = '‚ùå Please write a complete apology message.';
                excuseFeedback.style.color = '#d32f2f';
            } else if (/bibore|l√™bor√Æn/i.test(excuse)) {
                score++;
                excuseFeedback.innerHTML = '‚úÖ Good apology message!';
                excuseFeedback.style.color = '#2e7d32';
            } else {
                excuseFeedback.innerHTML = 'üí™ Try to include an apology (bibore...)';
                excuseFeedback.style.color = '#f57f17';
            }
            
            const scoreDiv = document.getElementById('write-score');
            scoreDiv.textContent = `Score: ${score} / 3`;
            scoreDiv.style.color = score === 3 ? '#2e7d32' : '#f57f17';
            if (score === 3) {
                scoreDiv.textContent += ' üéâ Perfect!';
            }
        }

        // Phone call validation
        let callCorrect = 0;
        let callAnswered = [false, false, false, false];

        function checkCall(step, answer) {
            if (callAnswered[step - 1]) return;
            
            const feedback = document.getElementById(`call-feedback-${step}`);
            const correctAnswers = {1: 'a', 2: 'a', 3: 'a', 4: 'a'};
            
            callAnswered[step - 1] = true;
            
            const buttons = event.target.parentElement.querySelectorAll('.role-btn');
            
            if (answer === correctAnswers[step]) {
                callCorrect++;
                event.target.classList.add('correct');
                if (step === 1) {
                    feedback.innerHTML = '‚úÖ Perfect! "Al√¥, silav!" is the correct greeting';
                } else if (step === 2) {
                    feedback.innerHTML = '‚úÖ Excellent! Polite response with return question';
                } else if (step === 3) {
                    feedback.innerHTML = '‚úÖ Great! "Bend√™" means wait/hold on';
                } else {
                    feedback.innerHTML = '‚úÖ Perfect! Polite way to end the call';
                }
                feedback.style.color = '#2e7d32';
            } else {
                event.target.classList.add('incorrect');
                buttons.forEach((btn, index) => {
                    const btnAnswer = String.fromCharCode(97 + index);
                    if (btnAnswer === correctAnswers[step]) {
                        btn.classList.add('correct');
                    }
                });
                if (step === 1) {
                    feedback.innerHTML = '‚ùå Not quite. Say "Al√¥, silav!" to answer the phone.';
                } else if (step === 2) {
                    feedback.innerHTML = '‚ùå Not quite. Respond politely and ask back "Tu √ßawa y√Æ?"';
                } else if (step === 3) {
                    feedback.innerHTML = '‚ùå Not quite. Say "Ji kerema xwe, bend√™" to ask them to wait.';
                } else {
                    feedback.innerHTML = '‚ùå Not quite. End with "Spas dikim, pa≈ü√™ dipeyivim. Xatir!"';
                }
                feedback.style.color = '#d32f2f';
            }
            
            buttons.forEach(btn => btn.style.pointerEvents = 'none');
            document.getElementById('call-correct').textContent = callCorrect;
        }

        // Drag and drop ordering exercise
        let draggedElement = null;
        const originalOrder = [];

        document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('sortable-container');
            const items = container.querySelectorAll('.sortable-item');
            
            // Store original order
            items.forEach((item, index) => {
                originalOrder.push({
                    text: item.textContent,
                    order: item.getAttribute('data-order')
                });
                
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);
                item.addEventListener('dragover', handleDragOver);
                item.addEventListener('drop', handleDrop);
                item.addEventListener('dragenter', handleDragEnter);
                item.addEventListener('dragleave', handleDragLeave);
            });
        });

        function handleDragStart(e) {
            draggedElement = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', this.innerHTML);
        }

        function handleDragEnd(e) {
            this.classList.remove('dragging');
            const items = document.querySelectorAll('.sortable-item');
            items.forEach(item => {
                item.classList.remove('over');
            });
        }

        function handleDragOver(e) {
            if (e.preventDefault) {
                e.preventDefault();
            }
            e.dataTransfer.dropEffect = 'move';
            return false;
        }

        function handleDragEnter(e) {
            if (this !== draggedElement) {
                this.classList.add('over');
            }
        }

        function handleDragLeave(e) {
            this.classList.remove('over');
        }

        function handleDrop(e) {
            if (e.stopPropagation) {
                e.stopPropagation();
            }
            
            if (draggedElement !== this) {
                const container = document.getElementById('sortable-container');
                const allItems = [...container.querySelectorAll('.sortable-item')];
                const draggedIndex = allItems.indexOf(draggedElement);
                const targetIndex = allItems.indexOf(this);
                
                if (draggedIndex < targetIndex) {
                    this.parentNode.insertBefore(draggedElement, this.nextSibling);
                } else {
                    this.parentNode.insertBefore(draggedElement, this);
                }
            }
            
            return false;
        }

        function checkOrder() {
            const container = document.getElementById('sortable-container');
            const items = container.querySelectorAll('.sortable-item');
            let correct = true;
            
            items.forEach((item, index) => {
                const expectedOrder = parseInt(item.getAttribute('data-order'));
                if (expectedOrder !== index + 1) {
                    correct = false;
                }
            });
            
            const feedback = document.getElementById('order-feedback');
            if (correct) {
                feedback.innerHTML = '‚úÖ Perfect! The conversation is in the correct order! üéâ';
                feedback.style.color = '#2e7d32';
            } else {
                feedback.innerHTML = '‚ùå Not quite right. Try again! Think about how a phone conversation flows.';
                feedback.style.color = '#d32f2f';
            }
        }

        function resetOrder() {
            const container = document.getElementById('sortable-container');
            container.innerHTML = '';
            
            // Shuffle and add back
            const shuffled = [...originalOrder].sort(() => Math.random() - 0.5);
            shuffled.forEach(item => {
                const newItem = document.createElement('div');
                newItem.className = 'sortable-item';
                newItem.draggable = true;
                newItem.setAttribute('data-order', item.order);
                newItem.textContent = item.text;
                
                // Re-attach event listeners
                newItem.addEventListener('dragstart', handleDragStart);
                newItem.addEventListener('dragend', handleDragEnd);
                newItem.addEventListener('dragover', handleDragOver);
                newItem.addEventListener('drop', handleDrop);
                newItem.addEventListener('dragenter', handleDragEnter);
                newItem.addEventListener('dragleave', handleDragLeave);
                
                container.appendChild(newItem);
            });
            
            document.getElementById('order-feedback').textContent = '';
        }
    </script>
</body>
</html>
